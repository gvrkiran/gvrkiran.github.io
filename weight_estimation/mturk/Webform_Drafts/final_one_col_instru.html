<!-- HIT template: ImageTagging-v3.0 --><!-- Bootstrap v3.0.3 --><!-- Please note that Bootstrap CSS/JS and JQuery are 3rd party libraries that may update their url/code at any time. Amazon Mechanical Turk (MTurk) is including these libraries as a default option for you, but is not responsible for any changes to the external libraries -->
<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" integrity="sha384-IS73LIqjtYesmURkDE9MXKbXqYA8rvKEp/ghicjem7Vc3mGRdQRptJSz60tvrB6+" rel="stylesheet" /><!-- The following snippet enables the 'responsive' behavior on smaller screens -->
<meta content="width=device-width,initial-scale=1" name="viewport" /><!-- Instructions -->
<section class="container" id="TaggingOfAnImage">
<div class="row">
<div class="col-xs-12 col-md-12"><!-- Instructions -->
<div class="panel panel-primary"><!-- WARNING: the ids "collapseTrigger" and "instructionBody" are being used to enable expand/collapse feature --><a class="panel-heading" href="javascript:void(0);" id="collapseTrigger"><strong>Instructions</strong> <span class="collapse-text">(Click to expand)</span> </a>
<div class="panel-body" id="instructionBody">
<p>Can you estimate each person&#39;s weight and height?</p>

<ul>
	<li>Type in your guess into input forms under each image.</li>
	<li>If you use &quot;kg&quot;, &quot;cm&quot; or &quot;lbs&quot; fields, type in only numbers (your guesses).</li>
	<li>If you use &quot;feet/inches&quot; fields, use the common feet/inches format (for example, 5&#39;6&#39;&#39; means &quot;5 feet, 6 inches tall&quot;).</li>
  <li>For each task the bonus will be granted to 50% of workers whose guesses were closest to the real weight.
</ul>

<p>IMPORTANT: helpful for bonus</p>
<ul>
	<li>Have a look at the following examples.</li>
	<li>These examples help you to get a feeling of what reasonable estimates for certain body types can be.</li>
  <li>In addition, you can familiarize yourself with the input format.
</ul>

</div>
</div>
</div>
</div>
<!-- End Instructions --><!-- Image Tagging Layout -->

<div class="row">
<div class="column"><img alt="im_url" src="${image_url0}" />
<div class="form-group"><label>Weight:&nbsp; </label> <input class="wkg" float="center" name="w0kg" /> kg &nbsp; <input class="wlbs" /> lbs</div>

<div class="form-group"><label>Height:&nbsp; </label> <input class="hcm" /> cm &nbsp; <input class="hfi" /> feet/inches</div>
</div>
</div>

<div class="row">
<div class="column"><img alt="im_url" src="${image_url1}" />
<div class="form-group"><label>Weight:&nbsp; </label> <input class="wkg" float="center" /> kg &nbsp; <input class="wlbs" /> lbs</div>

<div class="form-group"><label>Height:&nbsp; </label> <input class="hcm" /> cm &nbsp; <input class="hfi" /> feet/inches</div>
</div>
</div>

<div class="row">
<div class="column"><img alt="im_url" src="${image_url2}" />
<div class="form-group"><label>Weight:&nbsp; </label> <input class="wkg" float="center" name="w0kg" /> kg &nbsp; <input class="wlbs" /> lbs</div>

<div class="form-group"><label>Height:&nbsp; </label> <input class="hcm" /> cm &nbsp; <input class="hfi" /> feet/inches</div>
</div>
</div>

<div class="row">
<div class="column"><img alt="im_url" src="${image_url3}" />
<div class="form-group"><label>Weight:&nbsp; </label> <input class="wkg" float="center" name="w0kg" /> kg &nbsp; <input class="wlbs" /> lbs</div>

<div class="form-group"><label>Height:&nbsp; </label> <input class="hcm" /> cm &nbsp; <input class="hfi" /> feet/inches</div>
</div>
</div>
</section>
<!-- End Image Tagging Layout --><!-- Open internal style sheet -->
<style type="text/css">#collapseTrigger{
  color:#fff;
  display: block;
  text-decoration: none;
}
#submitButton{
  white-space: normal;
}

.caption {
    /* Make the caption a block so it occupies its own line. */
    display: block;
}

.row {
    display: flex;
    align-items: center;
    justify-content: center;
}

img {
    padding: 20px;
    display: block;
    margin: 0 auto;
    margin-top: 50px;
    max-height: 350px;
    max-width: 90%;
    float: center;
}

.form-group{;
  text-align: center;
}

/*
.container input {
  width: 100%;
  clear: both;
}*/

.column {
    flex: 50%;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    /* display: none; <- Crashes Chrome on hover */
    -webkit-appearance: none;
    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
}
</style>
<!-- Close internal style sheet --><!-- Please note that Bootstrap CSS/JS and JQuery are 3rd party libraries that may update their url/code at any time. Amazon Mechanical Turk (MTurk) is including these libraries as a default option for you, but is not responsible for any changes to the external libraries --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js" integrity="sha384-s1ITto93iSMDxlp/79qhWHi+LsIi9Gx6yL+cOKDuymvihkfol83TYbLbOw+W/wv4" crossorigin="anonymous"></script><script>
  $(document).ready(function() {
    // Instructions expand/collapse
    var content = $('#instructionBody');
    var trigger = $('#collapseTrigger');
    content.hide();
    $('.collapse-text').text('(Click to expand)');
    trigger.click(function(){
      content.toggle();
      var isVisible = content.is(':visible');
      if(isVisible){
        $('.collapse-text').text('(Click to collapse)');
      }else{
        $('.collapse-text').text('(Click to expand)');
      }
    });
    // end expand/collapse
  });

</script><script type="text/javascript">
  window.addEventListener('load', init);
  
  function updateLbsFromKg(el)  {
    var elnid = el.id;
    elnid = elnid.replace("kg", "lbs");
    document.getElementById(elnid).value = Math.round(2.20462*el.value); 
  }
  
  function updateKgFromLbs(el)  {
    var elnid = el.id;
    elnid = elnid.replace("lbs", "kg");
    document.getElementById(elnid).value = Math.round(0.453592*el.value); 
  }
  
  function updateFeetFromCm(el)  {
    var elnid = el.id;
    elnid = elnid.replace("cm", "fi");
    var feetval = Math.floor(0.0328084*el.value);
    var inchval = Math.round((0.0328084*el.value - feetval) * 12.0);
    if (inchval >= 12)
    {
      inchval = 0;
      feetval += 1;
    }
    document.getElementById(elnid).value = feetval + "\'" + inchval + "\'\'"; 
  }
  
  function updateCmFromFeet(el)  {
    var elnid = el.id;
    elnid = elnid.replace("fi", "cm");
    var numstr = el.value;
    var feetval = parseInt(el.value[0])
    numstr = numstr.substr(2, numstr.length-4);
    var inchval = 0
    if (numstr.length > 0)
      inchval = parseInt(numstr)
    document.getElementById(elnid).value = Math.round(30.48*feetval + 2.54*inchval); 
  }
  
  function init(){
    wkg_forms = document.getElementsByClassName('wkg');
    wlbs_forms = document.getElementsByClassName('wlbs');
    
    hcm_forms = document.getElementsByClassName('hcm')
    hfi_forms = document.getElementsByClassName('hfi')
    
    var cnt_im = wkg_forms.length;
    for (var i = 0; i < cnt_im; i++)
    {
      wkg_forms[i].setAttribute("id", "w" + i + "kg");
      wkg_forms[i].setAttribute("name", "w" + i + "kg");
      wkg_forms[i].setAttribute("size", "5");
      wkg_forms[i].setAttribute("type", "number");
      wkg_forms[i].setAttribute("min", "20");
      wkg_forms[i].setAttribute("max", "454");
      wkg_forms[i].setAttribute("autocomplete", "off");
      wkg_forms[i].setAttribute("onmouseup", "updateLbsFromKg(this)");
      wkg_forms[i].setAttribute("onkeyup", "updateLbsFromKg(this)");
      
      wlbs_forms[i].setAttribute("id", "w" + i + "lbs");
      wlbs_forms[i].setAttribute("name", "w" + i + "lbs");
      wlbs_forms[i].setAttribute("size", "5");
      wlbs_forms[i].setAttribute("type", "number");
      wlbs_forms[i].setAttribute("min", "44");
      wlbs_forms[i].setAttribute("max", "1000");
      wlbs_forms[i].setAttribute("autocomplete", "off");
      wlbs_forms[i].setAttribute("onmouseup", "updateKgFromLbs(this)");
      wlbs_forms[i].setAttribute("onkeyup", "updateKgFromLbs(this)");  
      
      hcm_forms[i].setAttribute("id", "h" + i + "cm");
      hcm_forms[i].setAttribute("name", "h" + i + "cm");
      hcm_forms[i].setAttribute("size", "5");
      hcm_forms[i].setAttribute("type", "number");
      hcm_forms[i].setAttribute("min", "60");
      hcm_forms[i].setAttribute("max", "300");
      hcm_forms[i].setAttribute("autocomplete", "off");
      hcm_forms[i].setAttribute("onmouseup", "updateFeetFromCm(this)");
      hcm_forms[i].setAttribute("onkeyup", "updateFeetFromCm(this)");
      
      hfi_forms[i].setAttribute("id", "h" + i + "fi");
      hfi_forms[i].setAttribute("name", "h" + i + "fi");
      hfi_forms[i].setAttribute("size", "5");
      hfi_forms[i].setAttribute("type", "text");
      hfi_forms[i].setAttribute("autocomplete", "off");  
      hfi_forms[i].setAttribute("pattern", "[2-9]'(([0-9]|10|11)'')?");
      hfi_forms[i].setAttribute("title", "Enter a height estimate in feet/inches format between 2\' and 9\'11\'\'.")
      hfi_forms[i].setAttribute("onmouseup", "updateCmFromFeet(this)");
      hfi_forms[i].setAttribute("onkeyup", "updateCmFromFeet(this)");
    }
  }
</script>